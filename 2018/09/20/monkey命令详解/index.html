<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>monkey命令详解 | Xlee</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="monkey命令详解">
<meta name="keywords" content="monkey,测试">
<meta property="og:type" content="article">
<meta property="og:title" content="monkey命令详解">
<meta property="og:url" content="https//xlee00.github.io/2018/09/20/monkey命令详解/index.html">
<meta property="og:site_name" content="Xlee">
<meta property="og:description" content="monkey命令详解">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="/2018/09/20/monkey命令详解/android_studio.png">
<meta property="og:updated_time" content="2019-07-29T08:36:56.921Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="monkey命令详解">
<meta name="twitter:description" content="monkey命令详解">
<meta name="twitter:image" content="/2018/09/20/monkey命令详解/android_studio.png">
  
    <link rel="alternate" href="/atom.xml" title="Xlee" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Xlee</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">与世界分享你的知识、经验和见解</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https//xlee00.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-monkey命令详解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/09/20/monkey命令详解/" class="article-date">
  <time datetime="2018-09-20T09:44:54.000Z" itemprop="datePublished">2018-09-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/科技/">科技</a>►<a class="article-category-link" href="/categories/科技/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      monkey命令详解
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>monkey命令详解</p>
<a id="more"></a>

<h2 id="一、Monkey-简介"><a href="#一、Monkey-简介" class="headerlink" title="一、Monkey 简介"></a>一、Monkey 简介</h2><p>Monkey 就是SDK中附带的一个工具。Monkey是Android中的一个命令行工具，可以运行在模拟器里或实际设备中。它向系统发送伪随机的用户事件流(如按键输入、触摸屏输入、手势输入等)，实现对正在开发的应用程序进行压力测试。Monkey测试是一种为了测试软件的稳定性、健壮性的快速有效的方法。</p>
<p>该工具用于进行压力测试。然后开发人员结合monkey 打印的日志和系统打印的日志，分析测试中的问题</p>
<p>Monkey 测试的特点：</p>
<p>Monkey 测试,所有的事件都是随机产生的，不带任何人的主观性。</p>
<ol>
<li>测试的对象仅为应用程序包，有一定的局限性。</li>
<li>Monky测试使用的事件数据流是随机的，不能进行自定义。</li>
<li>可对MonkeyTest的对象，事件数量，类型，频率等进行设置。</li>
</ol>
<h2 id="二、Monkey的基本用法"><a href="#二、Monkey的基本用法" class="headerlink" title="二、Monkey的基本用法"></a>二、Monkey的基本用法</h2><p>基本语法如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell monkey [options]</span><br></pre></td></tr></table></figure>

<p>如果不指定options，Monkey将以无反馈模式启动，并把事件任意发送到安装在目标环境中的全部包。</p>
<p>下面是一个更为典型的命令行示例，它启动指定的应用程序，并向其发送500个伪随机事件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ adb shell monkey -p your.package.name -v 500</span><br></pre></td></tr></table></figure>

<p>使用android自动化测试工具monkeyrunner启动应用时，需要填写被测程序的包名和启动的Activity，以下有两种查看应用包名package和入口activity名称的方法：</p>
<h4 id="方法一：使用aapt-aapt是sdk自带的一个工具，在sdk-builds-tools-目录下"><a href="#方法一：使用aapt-aapt是sdk自带的一个工具，在sdk-builds-tools-目录下" class="headerlink" title="方法一：使用aapt    //aapt是sdk自带的一个工具，在sdk\builds-tools\目录下"></a>方法一：使用aapt    //aapt是sdk自带的一个工具，在sdk\builds-tools\目录下</h4><ol>
<li>以shadowsocksr为例，命令行中切换到aapt.exe目录执行:  <code>aapt dump badging C:\Users\xxx\Desktop\shadowsocksr-release.apk</code></li>
<li>注：在android sdk目录搜索可以找到aapt.exe，如果没有可以下载apktool。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">F:\sdk\build-tools\27.0.3&gt;aapt dump badging C:\Users\xxx\Desktop\shadowsocksr-release.apk</span><br><span class="line">package: name=&apos;in.zhaoj.shadowsocksr&apos; versionCode=&apos;318&apos; versionName=&apos;3.4.0.8&apos; platformBuildVersionName=&apos;7.1.1&apos;</span><br><span class="line">sdkVersion:&apos;16&apos;</span><br><span class="line">targetSdkVersion:&apos;25&apos;</span><br><span class="line">uses-permission: name=&apos;android.permission.INTERNET&apos;</span><br><span class="line">uses-permission: name=&apos;android.permission.ACCESS_NETWORK_STATE&apos;</span><br><span class="line">uses-permission: name=&apos;android.permission.RECEIVE_BOOT_COMPLETED&apos;</span><br><span class="line">uses-permission: name=&apos;android.permission.NFC&apos;</span><br><span class="line">uses-permission: name=&apos;android.permission.WAKE_LOCK&apos;</span><br><span class="line">uses-permission: name=&apos;com.google.android.c2dm.permission.RECEIVE&apos;</span><br><span class="line">application-label:&apos;SSR&apos;</span><br><span class="line">application-label-ja:&apos;SSR&apos;</span><br><span class="line">application-label-ru:&apos;SSR&apos;</span><br><span class="line">application-label-zh-CN:&apos;SSR&apos;</span><br><span class="line">application-label-zh-TW:&apos;SSR&apos;</span><br><span class="line">application-icon-160:&apos;res/mipmap-mdpi-v4/ic_launcher.png&apos;</span><br><span class="line">application-icon-240:&apos;res/mipmap-hdpi-v4/ic_launcher.png&apos;</span><br><span class="line">application-icon-320:&apos;res/mipmap-xhdpi-v4/ic_launcher.png&apos;</span><br><span class="line">application-icon-480:&apos;res/mipmap-xxhdpi-v4/ic_launcher.png&apos;</span><br><span class="line">application-icon-640:&apos;res/mipmap-xxxhdpi-v4/ic_launcher.png&apos;</span><br><span class="line">application-icon-65534:&apos;res/mipmap-mdpi-v4/ic_launcher.png&apos;</span><br><span class="line">application: label=&apos;SSR&apos; icon=&apos;res/mipmap-mdpi-v4/ic_launcher.png&apos; banner=&apos;res/drawable/ic_start_connected.xml&apos;</span><br><span class="line">launchable-activity: name=&apos;com.github.shadowsocks.Shadowsocks&apos;  label=&apos;SSR&apos; icon=&apos;&apos;</span><br><span class="line">leanback-launchable-activity: name=&apos;com.github.shadowsocks.Shadowsocks&apos;  label=&apos;SSR&apos; icon=&apos;&apos; banner=&apos;&apos;</span><br><span class="line">feature-group: label=&apos;&apos;</span><br><span class="line">  uses-feature-not-required: name=&apos;android.hardware.camera&apos;</span><br><span class="line">  uses-feature-not-required: name=&apos;android.hardware.nfc&apos;</span><br><span class="line">  uses-feature-not-required: name=&apos;android.hardware.touchscreen&apos;</span><br><span class="line">  uses-feature-not-required: name=&apos;android.software.leanback&apos;</span><br><span class="line">main</span><br><span class="line">other-activities</span><br><span class="line">other-receivers</span><br><span class="line">other-services</span><br><span class="line">supports-screens: &apos;small&apos; &apos;normal&apos; &apos;large&apos; &apos;xlarge&apos;</span><br><span class="line">supports-any-density: &apos;true&apos;</span><br><span class="line">locales: &apos;--_--&apos; &apos;ja&apos; &apos;ru&apos; &apos;zh-CN&apos; &apos;zh-TW&apos;</span><br><span class="line">densities: &apos;160&apos; &apos;240&apos; &apos;320&apos; &apos;480&apos; &apos;640&apos; &apos;65534&apos;</span><br><span class="line">native-code: &apos;armeabi-v7a&apos; &apos;x86&apos;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="方法二：使用Android-studio"><a href="#方法二：使用Android-studio" class="headerlink" title="方法二：使用Android studio"></a>方法二：使用Android studio</h4><p>拖动到Android studio就可以<br><img src="/2018/09/20/monkey命令详解/android_studio.png" alt="使用Android stuido 查看启动信息"></p>
<h2 id="三、Monkey测试的一个实例"><a href="#三、Monkey测试的一个实例" class="headerlink" title="三、Monkey测试的一个实例"></a>三、Monkey测试的一个实例</h2><p>通过这个实例，我们能理解Monkey测试的步骤以及如何知道哪些应用程序能够用Monkey进行测试。<br>Windows下：</p>
<ol>
<li><p>adb 连接设备</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Documents and Settings\Administrator&gt;adb shell</span><br></pre></td></tr></table></figure>
</li>
<li><p>以com.android.calculator2作为对象进行MonkeyTest</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">monkey -p com.android.calculator2 -v 500</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>其中-p表示对象包 –v 表示反馈信息级别</p>
<p>运行过程中，Emulator中的应用程序在不断地切换画面。</p>
<p>按照选定的不同级别的反馈信息，在Monkey中还可以看到其执行过程报告和生成的事件。</p>
<h3 id="四、使用monkey-help-命令查看命令参数"><a href="#四、使用monkey-help-命令查看命令参数" class="headerlink" title="四、使用monkey help 命令查看命令参数"></a>四、使用monkey help 命令查看命令参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">C:\Documents and Settings\Administrator&gt;adb shell monkey -help</span><br><span class="line">usage: monkey [-p ALLOWED_PACKAGE [-p ALLOWED_PACKAGE] ...]</span><br><span class="line">              [-c MAIN_CATEGORY [-c MAIN_CATEGORY] ...]</span><br><span class="line">              [--ignore-crashes] [--ignore-timeouts]</span><br><span class="line">              [--ignore-security-exceptions]</span><br><span class="line">              [--monitor-native-crashes] [--ignore-native-crashes]</span><br><span class="line">              [--kill-process-after-error] [--hprof]</span><br><span class="line">              [--match-description TEXT]</span><br><span class="line">              [--pct-touch PERCENT] [--pct-motion PERCENT]</span><br><span class="line">              [--pct-trackball PERCENT] [--pct-syskeys PERCENT]</span><br><span class="line">              [--pct-nav PERCENT] [--pct-majornav PERCENT]</span><br><span class="line">              [--pct-appswitch PERCENT] [--pct-flip PERCENT]</span><br><span class="line">              [--pct-anyevent PERCENT] [--pct-pinchzoom PERCENT]</span><br><span class="line">              [--pct-permission PERCENT]</span><br><span class="line">              [--pkg-blacklist-file PACKAGE_BLACKLIST_FILE]</span><br><span class="line">              [--pkg-whitelist-file PACKAGE_WHITELIST_FILE]</span><br><span class="line">              [--wait-dbg] [--dbg-no-events]</span><br><span class="line">              [--setup scriptfile] [-f scriptfile [-f scriptfile] ...]</span><br><span class="line">              [--port port]</span><br><span class="line">              [-s SEED] [-v [-v] ...]</span><br><span class="line">              [--throttle MILLISEC] [--randomize-throttle]</span><br><span class="line">              [--profile-wait MILLISEC]</span><br><span class="line">              [--device-sleep-time MILLISEC]</span><br><span class="line">              [--randomize-script]</span><br><span class="line">              [--script-log]</span><br><span class="line">              [--bugreport]</span><br><span class="line">              [--periodic-bugreport]</span><br><span class="line">              [--permission-target-system]</span><br><span class="line">              COUNT</span><br></pre></td></tr></table></figure>

<h4 id="1-参数：-p"><a href="#1-参数：-p" class="headerlink" title="1 参数： -p"></a>1 参数： -p</h4><p>用于约束限制，用此参数指定一个或多个包（Package，即App）。指定包之后，monkey将只允许系统启动指定的APP,如果不指定包，将允许系统启动设备中的所有APP.</p>
<ul>
<li>指定一个包：<code>adb shell monkey -p cn.emoney.acg 10</code></li>
<li>指定多个包：<code>adb shell monkey -p cn.emoney.acg –p cn.emoney.wea -p cn.emoney.acg 100</code></li>
<li>不指定包：<code>adb shell monkey 100</code></li>
</ul>
<h4 id="2-参数-v"><a href="#2-参数-v" class="headerlink" title="2 参数: -v"></a>2 参数: -v</h4><p>用于指定反馈信息级别（信息级别就是日志的详细程度），总共分3个级别，分别对应的参数如下表所示：</p>
<h5 id="日志级别-Level0"><a href="#日志级别-Level0" class="headerlink" title="日志级别 Level0"></a>日志级别 Level0</h5><p>示例 <code>adb shell monkey -p cn.emoney.acg –v 100</code></p>
<p>说明缺省值，仅提供启动提示、测试完成和最终结果等少量信息</p>
<h5 id="日志级别-Level-1"><a href="#日志级别-Level-1" class="headerlink" title="日志级别 Level 1"></a>日志级别 Level 1</h5><p>示例 <code>adb shell monkey -p cn.emoney.acg –v -v 100</code></p>
<p>说明提供较为详细的日志，包括每个发送到Activity的事件信息</p>
<h5 id="日志级别-Level-2"><a href="#日志级别-Level-2" class="headerlink" title="日志级别 Level 2"></a>日志级别 Level 2</h5><p>示例 <code>adb shell monkey -p cn.emoney.acg –v -v –v 100</code></p>
<p>说明最详细的日志，包括了测试中选中/未选中的Activity信息</p>
<h4 id="3-参数：-s"><a href="#3-参数：-s" class="headerlink" title="3 参数： -s"></a>3 参数： -s</h4><p>用于指定伪随机数生成器的seed值，如果seed相同，则两次Monkey测试所产生的事件序列也相同的。</p>
<p>Monkey 测试1：<code>adb shell monkey -p cn.emoney.acg -s 10  100</code></p>
<p>Monkey 测试2：<code>adb shell monkey -p cn.emoney.acg –s 10 100</code></p>
<p>两次测试的效果是相同的，因为模拟的用户操作序列（每次操作按照一定的先后顺序所组成的一系列操作，即一个序列）是一样的。</p>
<h4 id="4-参数：-–throttle-lt-毫秒-gt"><a href="#4-参数：-–throttle-lt-毫秒-gt" class="headerlink" title="4 参数： –throttle&lt;毫秒&gt;"></a>4 参数： –throttle&lt;毫秒&gt;</h4><p>用于指定用户操作（即事件）间的时延，单位是毫秒；</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p cn.emoney.acg --throttle 5000 100</span><br></pre></td></tr></table></figure>

<h4 id="5-参数：-–ignore-crashes"><a href="#5-参数：-–ignore-crashes" class="headerlink" title="5 参数： –ignore-crashes"></a>5 参数： –ignore-crashes</h4><p>用于指定当应用程序崩溃时（Force&amp; Close错误），Monkey是否停止运行。如果使用此参数，即使应用程序崩溃，Monkey依然会发送事件，直到事件计数完成。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shellmonkey -p cn.emoney.acg --ignore-crashes 1000</span><br></pre></td></tr></table></figure>

<p>测试过程中即使程序崩溃，Monkey依然会继续发送事件直到事件数目达到1000为止</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shellmonkey -p cn.emoney.acg 1000</span><br></pre></td></tr></table></figure>

<p>测试过程中，如果acg程序崩溃，Monkey将会停止运行</p>
<h4 id="6-参数：-–ignore-timeouts"><a href="#6-参数：-–ignore-timeouts" class="headerlink" title="6 参数： –ignore-timeouts"></a>6 参数： –ignore-timeouts</h4><p>用于指定当应用程序发生ANR（Application No Responding）错误时，Monkey是否停止运行。如果使用此参数，即使应用程序发生ANR错误，Monkey依然会发送事件，直到事件计数完成。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shellmonkey -p cn.emoney.acg --ignore-timeouts 1000</span><br></pre></td></tr></table></figure>

<h4 id="7-参数：-–ignore-security-exceptions"><a href="#7-参数：-–ignore-security-exceptions" class="headerlink" title="7 参数： –ignore-security-exceptions"></a>7 参数： –ignore-security-exceptions</h4><p>用于指定当应用程序发生许可错误时（如证书许可，网络许可等），Monkey是否停止运行。如果使用此参数，即使应用程序发生许可错误，Monkey依然会发送事件，直到事件计数完成。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shellmonkey -p cn.emoney.acg --ignore-security-exception 1000</span><br></pre></td></tr></table></figure>

<h4 id="8-参数：-–kill-process-after-error"><a href="#8-参数：-–kill-process-after-error" class="headerlink" title="8 参数： –kill-process-after-error"></a>8 参数： –kill-process-after-error</h4><p>用于指定当应用程序发生错误时，是否停止其运行。如果指定此参数，当应用程序发生错误时，应用程序停止运行并保持在当前状态</p>
<p>（注意：应用程序仅是静止在发生错误时的状态，系统并不会结束该应用程序的进程）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shellmonkey -p cn.emoney.acg --<span class="built_in">kill</span>-process-after-error 1000</span><br></pre></td></tr></table></figure>

<h4 id="9-参数：-–monitor-native-crashes"><a href="#9-参数：-–monitor-native-crashes" class="headerlink" title="9 参数： –monitor-native-crashes"></a>9 参数： –monitor-native-crashes</h4><p>用于指定是否监视并报告应用程序发生崩溃的本地代码。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shellmonkey -p cn.emoney.acg --monitor-native-crashes 1000</span><br></pre></td></tr></table></figure>

<h4 id="10-参数：-–pct-｛-事件类别｝｛-事件类别百分比｝"><a href="#10-参数：-–pct-｛-事件类别｝｛-事件类别百分比｝" class="headerlink" title="10 参数： –pct-｛+事件类别｝｛+事件类别百分比｝"></a>10 参数： –pct-｛+事件类别｝｛+事件类别百分比｝</h4><p>用于指定每种类别事件的数目百分比（在Monkey事件序列中，该类事件数目占总事件数目的百分比）<br>示例:</p>
<p>–pct-touch｛+百分比｝</p>
<p>调整触摸事件的百分比(触摸事件是一个down-up事件，它发生在屏幕上的某单一位置)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p cn.emoney.acg --pct-touch 10 1000</span><br></pre></td></tr></table></figure>

<p>–pct-motion ｛+百分比｝</p>
<p>调整动作事件的百分比(动作事件由屏幕上某处的一个down事件、一系列的伪随件机事和一个up事件组成)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p cn.emoney.acg --pct-motion 20 1000</span><br></pre></td></tr></table></figure>

<p>–pct-trackball ｛+百分比｝</p>
<p>调整轨迹事件的百分比(轨迹事件由一个或几个随机的移动组成，有时还伴随有点击)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p cn.emoney.acg --pct-trackball 30 1000</span><br></pre></td></tr></table></figure>

<p>–pct-nav ｛+百分比｝</p>
<p>调整“基本”导航事件的百分比(导航事件由来自方向输入设备的up/down/left/right组成)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p cn.emoney.acg --pct-nav 40 1000</span><br></pre></td></tr></table></figure>

<p>–pct-majornav ｛+百分比｝</p>
<p>调整“主要”导航事件的百分比(这些导航事件通常引发图形界面中的动作，如：5-way键盘的中间按键、回退按键、菜单按键)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p cn.emoney.acg --pct-majornav 50 1000</span><br></pre></td></tr></table></figure>

<h4 id="输出monkeylog"><a href="#输出monkeylog" class="headerlink" title="输出monkeylog"></a>输出monkeylog</h4><p>跑monkey的时候或者想抓程序log导出时，有时会提示：cannot create D:monkeytest.txt: read-only file system</p>
<p>为什么有时候可以有时候不可以？</p>
<p>后来发现跟使用使用习惯不一样，一会是先进入adb shell 再用命令，一会是直接命令进入。</p>
<p>进入adb shell后再用命令就会失败~</p>
<p>正确方法：退出shell或者执行命令时先不要进shell</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Documents and Settings\Administrator&gt;adb shell monkey -p 包名 -v 300  &gt;e:\text.txt</span><br></pre></td></tr></table></figure>

<p>进入adb shell后就相当于进入linux的root下面，没有权限在里面创建文件</p>
<h3 id="五、Monkey测试结果分析"><a href="#五、Monkey测试结果分析" class="headerlink" title="五、Monkey测试结果分析"></a>五、Monkey测试结果分析</h3><h4 id="一-初步分析方法："><a href="#一-初步分析方法：" class="headerlink" title="一. 初步分析方法："></a>一. 初步分析方法：</h4><p>Monkey测试出现错误后，一般的查错步骤为以下几步：</p>
<ol>
<li>找到是monkey里面的哪个地方出错</li>
<li>查看Monkey里面出错前的一些事件动作，并手动执行该动作</li>
<li>若以上步骤还不能找出，可以使用之前执行的monkey命令再执行一遍，注意seed值要一样–复现</li>
</ol>
<p>一般的测试结果分析：</p>
<ol>
<li>ANR问题：在日志中搜索“ANR”</li>
<li>崩溃问题：在日志中搜索“Exception”  Force Close<h4 id="二-详细分析monkey日志："><a href="#二-详细分析monkey日志：" class="headerlink" title="二. 详细分析monkey日志："></a>二. 详细分析monkey日志：</h4>将执行Monkey生成的log，从手机中导出并打开查看该log；在log的最开始都会显示Monkey执行的seed值、执行次数和测试的包名。</li>
</ol>
<p>首先我们需要查看Monkey测试中是否出现了ANR或者异常，具体方法如上述。</p>
<p>然后我们要分析log中的具体信息，方法如下：</p>
<p>查看log中第一个Switch，主要是查看Monkey执行的是那一个Activity，譬如下面的log中，执行的是com.tencent.smtt.SplashActivity，在下一个swtich之间的，如果出现了崩溃或其他异常，可以在该Activity中查找问题的所在。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:Switch:#Intent;action=android.intent.action.MAIN;category=android.intent.category.LAUNCHER;launchFlags=0x10000000;component=com.tencent.smtt/.SplashActivity;end</span><br><span class="line"></span><br><span class="line">  // Allowing start of Intent &#123;act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER]cmp=com.tencent.smtt/.SplashActivity &#125; in package com.tencent.smtt</span><br></pre></td></tr></table></figure>

<p>在下面的log中，Sending Pointer ACTION_DOWN和Sending Pointer ACTION_UP代表当前执行了一个单击的操作;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sleeping for 500 milliseconds这句log是执行Monkey测试时，throttle设定的间隔时间，每出现一次，就代表一个事件。</span><br><span class="line"></span><br><span class="line">SendKey(ACTION_DOWN) //KEYCODE_DPAD_DOWN 代表当前执行了一个点击下导航键的操作；</span><br><span class="line"></span><br><span class="line">Sending Pointer ACTION_MOVE 代表当前执行了一个滑动界面的操作。</span><br><span class="line">:Sending Pointer ACTION_DOWN x=47.0 y=438.0</span><br><span class="line">:Sending Pointer ACTION_MOVE x=-2.0 y=-4.0</span><br><span class="line">ANR</span><br></pre></td></tr></table></figure>

<p>如果Monkey测试顺利执行完成，在log的最后，会打印出当前执行事件的次数和所花费的时间；// Monkey finished代表执行完成。Monkey执行中断，在log的最后也能查看到当前已执行的次数。Monkey执行完成的log具体如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Events injected: 6000</span><br><span class="line"></span><br><span class="line">:Dropped: keys=0 pointers=9 trackballs=0 flips=0</span><br><span class="line"></span><br><span class="line">## Network stats: elapsed time=808384ms (0ms mobile, 808384ms wifi, 0msnot connected)</span><br><span class="line"></span><br><span class="line">// Monkey finished</span><br></pre></td></tr></table></figure>

<p>范例：</p>
<p>Monkey测试结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"># monkey -p wfh.LessonTable -v -v -v 200</span><br><span class="line"></span><br><span class="line">:Monkey: seed=0 count=200</span><br><span class="line"></span><br><span class="line">:AllowPackage: wfh.LessonTable</span><br><span class="line"></span><br><span class="line">:IncludeCategory: android.intent.category.LAUNCHER</span><br><span class="line"></span><br><span class="line">:IncludeCategory: android.intent.category.MONKEY</span><br><span class="line"></span><br><span class="line">// Selecting main activities from category android.intent.category.LAUNCHER</span><br><span class="line"></span><br><span class="line">//   - NOT USING main activity com.android.browser.BrowserActivity (from package com.android.browser)</span><br><span class="line"></span><br><span class="line">// Seeded: 0</span><br><span class="line"></span><br><span class="line">// Event percentages:</span><br><span class="line"></span><br><span class="line">//   0: 15.0%</span><br><span class="line"></span><br><span class="line">//   1: 10.0%</span><br><span class="line"></span><br><span class="line">//   2: 15.0%</span><br><span class="line"></span><br><span class="line">//   3: 25.0%</span><br><span class="line"></span><br><span class="line">//   4: 15.0%</span><br><span class="line"></span><br><span class="line">//   5: 2.0%</span><br><span class="line"></span><br><span class="line">//   6: 2.0%</span><br><span class="line"></span><br><span class="line">//   7: 1.0%</span><br><span class="line"></span><br><span class="line">//   8: 15.0%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:Switch: #Intent;action=android.intent.action.MAIN;category=android.intent.category.LAUNCHER;launchFlags=0x10000000;component=wfh.LessonTable/.MainTable;end</span><br><span class="line"></span><br><span class="line">    // Allowing start of Intent &#123; act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=wfh.LessonTable/.MainTable &#125; in package wfh.LessonTable</span><br><span class="line"></span><br><span class="line">Sleeping for 0 milliseconds</span><br><span class="line"></span><br><span class="line">:SendKey (ACTION_DOWN): 21    // KEYCODE_DPAD_LEFT</span><br><span class="line"></span><br><span class="line">:SendKey (ACTION_UP): 21    // KEYCODE_DPAD_LEFT</span><br><span class="line"></span><br><span class="line">Sleeping for 0 milliseconds  //------------------------------------用－－throttle来设置一个起效的事件发生后时延时。</span><br><span class="line"></span><br><span class="line">:Sending Pointer ACTION_DOWN x=0.0 y=0.0</span><br><span class="line"></span><br><span class="line">:Sending Pointer ACTION_UP x=0.0 y=0.0</span><br><span class="line"></span><br><span class="line">Sleeping for 0 milliseconds</span><br><span class="line"></span><br><span class="line">:Sending Pointer ACTION_MOVE x=0.0 y=0.0</span><br></pre></td></tr></table></figure>

<p>当测试到ACTION_MOVE x=0.0 y=0.0这个动作时，发生了FC（Force Close）错误，以下为输出错误信息。同时在LogCat里面也有错误输出，而且LogCat里面的错误信息更为详细，在实际的测试中应该结合两者输出的信息进行调试程序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// CRASH: wfh.LessonTable (pid 1973)</span><br><span class="line"></span><br><span class="line">// Short Msg: java.lang.NullPointerException</span><br><span class="line"></span><br><span class="line">// Long Msg: java.lang.NullPointerException</span><br><span class="line"></span><br><span class="line">// Build Label: android:generic/sdk/generic/:2.1-update1/ECLAIR/35983:eng/test-keys</span><br><span class="line"></span><br><span class="line">// Build Changelist: 35983</span><br><span class="line"></span><br><span class="line">// Build Time: 1273161972</span><br><span class="line"></span><br><span class="line">// ID:</span><br><span class="line"></span><br><span class="line">// Tag: AndroidRuntime</span><br><span class="line"></span><br><span class="line">// java.lang.NullPointerException:</span><br><span class="line"></span><br><span class="line">//   at android.widget.TabHost.dispatchKeyEvent(TabHost.java:279)</span><br><span class="line"></span><br><span class="line">//   at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:748)</span><br><span class="line"></span><br><span class="line">** Monkey aborted due to error.</span><br><span class="line"></span><br><span class="line">Events injected: 190</span><br><span class="line"></span><br><span class="line">:Dropped: keys=0 pointers=11 trackballs=0 flips=0</span><br><span class="line"></span><br><span class="line">## Network stats: elapsed time=27954ms (27954ms mobile, 0ms wifi, 0ms not connected)</span><br><span class="line"></span><br><span class="line">** System appears to have crashed at event 190 of 200 using seed 0</span><br><span class="line"></span><br><span class="line">#</span><br></pre></td></tr></table></figure>

<p>开始monkey测试时android的LogCat输出的信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">11-01 08:52:53.712: DEBUG/AndroidRuntime(2077): &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; AndroidRuntime START &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span><br><span class="line"></span><br><span class="line">11-01 08:52:53.742: DEBUG/AndroidRuntime(2077): CheckJNI is ON</span><br><span class="line"></span><br><span class="line">11-01 08:52:54.453: DEBUG/AndroidRuntime(2077): ---</span><br></pre></td></tr></table></figure>

<p>以下为LogCat输出的错误信息，在以下的信息中首先从自己的包中找错误，如果没有自己的包的话就再找发生错误的包的第一个发生了异常。由错误提示可以看出很大的可能是因为TabHost引发的异常。经过查看代码发现是由于TabHost的编写不规范，TabHost与其中一个view放在了一起，在monkey测试做滚球上下滚动时当滚到TabHost时就发生了异常了。所以把TabHost与Activity分开写就不会出现些问题了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">11-01 08:53:27.113: ERROR/AndroidRuntime(1973): Uncaught handler: thread main exiting due to uncaught exception</span><br><span class="line"></span><br><span class="line">11-01 08:53:27.133: ERROR/AndroidRuntime(1973): java.lang.NullPointerException</span><br><span class="line"></span><br><span class="line">11-01 08:53:27.133: ERROR/AndroidRuntime(1973):     at android.widget.TabHost.dispatchKeyEvent(TabHost.java:279)</span><br><span class="line"></span><br><span class="line">11-01 08:53:27.133: ERROR/AndroidRuntime(1973):     at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:748)</span><br></pre></td></tr></table></figure>

<h4 id="四、总结："><a href="#四、总结：" class="headerlink" title="四、总结："></a>四、总结：</h4><p>在monkey测试中常用的命令组合有：</p>
<ol>
<li><code>monkey -p com.yourpackage -v 500</code>／／简单的输出测试的信息。</li>
<li><code>monkey -p com.yourpackage -v -v  500</code> //以深度为二级输出测试信息。</li>
<li><code>monkey -p com.yourpackage -s 数字 -v 500</code>／／为随机数的事件序列定一个值，若出现问题下次可以重复同样的系列进行排错。</li>
<li><code>monkey -p com.yourpackage -v --throttle 3000 500</code>//为每一次执行一次有效的事件后休眠3000毫秒。</li>
</ol>
<h4 id="五、附录："><a href="#五、附录：" class="headerlink" title="五、附录："></a>五、附录：</h4><p>以下内容为android系统中的keycode值，在以后的调试中会经常需要查询:</p>
<p><strong>字母和数字键的键码值(keyCode)</strong></p>
<table>
<thead>
<tr>
<th>按键</th>
<th>键码</th>
<th>按键</th>
<th>键码</th>
<th>按键</th>
<th>键码</th>
<th>按键</th>
<th>键码</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>65</td>
<td>J</td>
<td>74</td>
<td>S</td>
<td>83</td>
<td>1</td>
<td>49</td>
</tr>
<tr>
<td>B</td>
<td>66</td>
<td>K</td>
<td>75</td>
<td>T</td>
<td>84</td>
<td>2</td>
<td>50</td>
</tr>
<tr>
<td>C</td>
<td>67</td>
<td>L</td>
<td>76</td>
<td>U</td>
<td>85</td>
<td>3</td>
<td>51</td>
</tr>
<tr>
<td>D</td>
<td>68</td>
<td>M</td>
<td>77</td>
<td>V</td>
<td>86</td>
<td>4</td>
<td>52</td>
</tr>
<tr>
<td>E</td>
<td>69</td>
<td>N</td>
<td>78</td>
<td>W</td>
<td>87</td>
<td>5</td>
<td>53</td>
</tr>
<tr>
<td>F</td>
<td>70</td>
<td>O</td>
<td>79</td>
<td>X</td>
<td>88</td>
<td>6</td>
<td>54</td>
</tr>
<tr>
<td>G</td>
<td>71</td>
<td>P</td>
<td>80</td>
<td>Y</td>
<td>89</td>
<td>7</td>
<td>55</td>
</tr>
<tr>
<td>H</td>
<td>72</td>
<td>Q</td>
<td>81</td>
<td>Z</td>
<td>90</td>
<td>8</td>
<td>56</td>
</tr>
<tr>
<td>I</td>
<td>73</td>
<td>R</td>
<td>82</td>
<td>0</td>
<td>48</td>
<td>9</td>
<td>57</td>
</tr>
</tbody></table>
<p><strong>数字键盘上的键的键码值(keyCode)</strong></p>
<table>
<thead>
<tr>
<th>按键</th>
<th>键码</th>
<th>按键</th>
<th>键码</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>96</td>
<td>8</td>
<td>104</td>
</tr>
<tr>
<td>1</td>
<td>97</td>
<td>9</td>
<td>105</td>
</tr>
<tr>
<td>2</td>
<td>98</td>
<td>*</td>
<td>106</td>
</tr>
<tr>
<td>3</td>
<td>99</td>
<td>+</td>
<td>107</td>
</tr>
<tr>
<td>4</td>
<td>100</td>
<td>Enter</td>
<td>108</td>
</tr>
<tr>
<td>5</td>
<td>101</td>
<td>-</td>
<td>109</td>
</tr>
<tr>
<td>6</td>
<td>102</td>
<td>.</td>
<td>110</td>
</tr>
<tr>
<td>7</td>
<td>103</td>
<td>/</td>
<td>111</td>
</tr>
</tbody></table>
<p><strong>功能键键码值(keyCode)</strong></p>
<table>
<thead>
<tr>
<th>按键</th>
<th>键码</th>
<th>按键</th>
<th>键码</th>
</tr>
</thead>
<tbody><tr>
<td>F1</td>
<td>112</td>
<td>F7</td>
<td>118</td>
</tr>
<tr>
<td>F2</td>
<td>113</td>
<td>F8</td>
<td>119</td>
</tr>
<tr>
<td>F3</td>
<td>114</td>
<td>F9</td>
<td>120</td>
</tr>
<tr>
<td>F4</td>
<td>115</td>
<td>F10</td>
<td>121</td>
</tr>
<tr>
<td>F5</td>
<td>116</td>
<td>F11</td>
<td>122</td>
</tr>
<tr>
<td>F6</td>
<td>117</td>
<td>F12</td>
<td>123</td>
</tr>
</tbody></table>
<p><strong>控制键键码值(keyCode)</strong></p>
<table>
<thead>
<tr>
<th>按键</th>
<th>键码</th>
<th>按键</th>
<th>键码</th>
<th>按键</th>
<th>键码</th>
<th>按键</th>
<th>键码</th>
</tr>
</thead>
<tbody><tr>
<td>BackSpace</td>
<td>8</td>
<td>Esc</td>
<td>27</td>
<td>Right   Arrow</td>
<td>39</td>
<td>-_</td>
<td>189</td>
</tr>
<tr>
<td>Tab</td>
<td>9</td>
<td>Spacebar</td>
<td>32</td>
<td>Dw   Arrow</td>
<td>40</td>
<td>.&gt;</td>
<td>190</td>
</tr>
<tr>
<td>Clear</td>
<td>12</td>
<td>Page   Up</td>
<td>33</td>
<td>Insert</td>
<td>45</td>
<td>/?</td>
<td>191</td>
</tr>
<tr>
<td>Enter</td>
<td>13</td>
<td>Page   Down</td>
<td>34</td>
<td>Delete</td>
<td>46</td>
<td>`~</td>
<td>192</td>
</tr>
<tr>
<td>Shift</td>
<td>16</td>
<td>End</td>
<td>35</td>
<td>Num   Lock</td>
<td>144</td>
<td>[{</td>
<td>219</td>
</tr>
<tr>
<td>Control</td>
<td>17</td>
<td>Home</td>
<td>36</td>
<td>;:</td>
<td>186</td>
<td>&amp;#124;</td>
<td>220</td>
</tr>
<tr>
<td>Alt</td>
<td>18</td>
<td>Left   Arrow</td>
<td>37</td>
<td>=+</td>
<td>187</td>
<td>]}</td>
<td>221</td>
</tr>
<tr>
<td>Cape Lock</td>
<td>20</td>
<td>Up   Arrow</td>
<td>38</td>
<td>,&lt;</td>
<td>188</td>
<td>‘“</td>
<td>222</td>
</tr>
</tbody></table>
<p><strong>多媒体键码值(keyCode)</strong></p>
<table>
<thead>
<tr>
<th>按键</th>
<th>键码</th>
</tr>
</thead>
<tbody><tr>
<td>音量加</td>
<td>175</td>
</tr>
<tr>
<td>音量减</td>
<td>174</td>
</tr>
<tr>
<td>停止</td>
<td>179</td>
</tr>
<tr>
<td>静音</td>
<td>173</td>
</tr>
<tr>
<td>浏览器</td>
<td>172</td>
</tr>
<tr>
<td>邮件</td>
<td>180</td>
</tr>
<tr>
<td>搜索</td>
<td>170</td>
</tr>
<tr>
<td>收藏</td>
<td>171</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="https//xlee00.github.io/2018/09/20/monkey命令详解/" data-id="ck06iyq2g00abxgn5j1zquhwb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/monkey/">monkey</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/测试/">测试</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/09/21/Fragment-出栈的方法popBackStack需要特别注意的一点/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Fragment 出栈的方法popBackStack需要特别注意的一点
        
      </div>
    </a>
  
  
    <a href="/2018/09/19/SparseArray的使用及实现原理/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">SparseArray的使用及实现原理</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/人文/">人文</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/人文/人文其它/">人文其它</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂谈/">杂谈</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/科技/">科技</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/科技/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/科技/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/科技/Others/">Others</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/科技/Raspberry/">Raspberry</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/科技/Ubuntu/">Ubuntu</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/科技/Wordpress/">Wordpress</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/科技/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/科技/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/科技/svn/">svn</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/科技/其它/">其它</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/7z/" style="font-size: 10px;">7z</a> <a href="/tags/Android-TV/" style="font-size: 10px;">Android TV</a> <a href="/tags/Fragment/" style="font-size: 10px;">Fragment</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Google-billing/" style="font-size: 10px;">Google billing</a> <a href="/tags/Google-payment/" style="font-size: 10px;">Google payment</a> <a href="/tags/Gz/" style="font-size: 10px;">Gz</a> <a href="/tags/Hexo/" style="font-size: 12.5px;">Hexo</a> <a href="/tags/IP/" style="font-size: 10px;">IP</a> <a href="/tags/LNMP/" style="font-size: 10px;">LNMP</a> <a href="/tags/OpenVPN/" style="font-size: 10px;">OpenVPN</a> <a href="/tags/Rar/" style="font-size: 10px;">Rar</a> <a href="/tags/Raspberry/" style="font-size: 15px;">Raspberry</a> <a href="/tags/RecyclerView/" style="font-size: 10px;">RecyclerView</a> <a href="/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/tags/ScrollBar/" style="font-size: 10px;">ScrollBar</a> <a href="/tags/Scrollbar/" style="font-size: 10px;">Scrollbar</a> <a href="/tags/SparseArray/" style="font-size: 12.5px;">SparseArray</a> <a href="/tags/SparseArrayCompat/" style="font-size: 10px;">SparseArrayCompat</a> <a href="/tags/Supervisor/" style="font-size: 10px;">Supervisor</a> <a href="/tags/Tar/" style="font-size: 10px;">Tar</a> <a href="/tags/Tar-gz/" style="font-size: 10px;">Tar.gz</a> <a href="/tags/Ubuntu/" style="font-size: 20px;">Ubuntu</a> <a href="/tags/Unrar/" style="font-size: 10px;">Unrar</a> <a href="/tags/Vim/" style="font-size: 10px;">Vim</a> <a href="/tags/WIFI/" style="font-size: 10px;">WIFI</a> <a href="/tags/WPS/" style="font-size: 10px;">WPS</a> <a href="/tags/War/" style="font-size: 10px;">War</a> <a href="/tags/Wordpress/" style="font-size: 10px;">Wordpress</a> <a href="/tags/Xz/" style="font-size: 10px;">Xz</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/Zip/" style="font-size: 10px;">Zip</a> <a href="/tags/aar/" style="font-size: 10px;">aar</a> <a href="/tags/android/" style="font-size: 15px;">android</a> <a href="/tags/apk/" style="font-size: 10px;">apk</a> <a href="/tags/apply/" style="font-size: 10px;">apply</a> <a href="/tags/bat/" style="font-size: 10px;">bat</a> <a href="/tags/billing-test/" style="font-size: 10px;">billing test</a> <a href="/tags/bz2/" style="font-size: 10px;">bz2</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/drawable/" style="font-size: 10px;">drawable</a> <a href="/tags/eclipse/" style="font-size: 10px;">eclipse</a> <a href="/tags/egrep/" style="font-size: 10px;">egrep</a> <a href="/tags/fgrep/" style="font-size: 10px;">fgrep</a> <a href="/tags/git/" style="font-size: 17.5px;">git</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/gitignore/" style="font-size: 10px;">gitignore</a> <a href="/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/tags/grep/" style="font-size: 10px;">grep</a> <a href="/tags/import/" style="font-size: 10px;">import</a> <a href="/tags/keystore/" style="font-size: 10px;">keystore</a> <a href="/tags/monkey/" style="font-size: 10px;">monkey</a> <a href="/tags/no-permission/" style="font-size: 10px;">no_permission</a> <a href="/tags/notifyItemChanged/" style="font-size: 10px;">notifyItemChanged</a> <a href="/tags/response/" style="font-size: 10px;">response</a> <a href="/tags/screenshot/" style="font-size: 10px;">screenshot</a> <a href="/tags/sspanel/" style="font-size: 10px;">sspanel</a> <a href="/tags/state/" style="font-size: 10px;">state</a> <a href="/tags/supervisor/" style="font-size: 10px;">supervisor</a> <a href="/tags/svn/" style="font-size: 12.5px;">svn</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/win10/" style="font-size: 10px;">win10</a> <a href="/tags/不对称/" style="font-size: 10px;">不对称</a> <a href="/tags/乱码/" style="font-size: 10px;">乱码</a> <a href="/tags/代码仓库/" style="font-size: 10px;">代码仓库</a> <a href="/tags/位置/" style="font-size: 10px;">位置</a> <a href="/tags/信息/" style="font-size: 10px;">信息</a> <a href="/tags/修改文件名/" style="font-size: 10px;">修改文件名</a> <a href="/tags/出栈/" style="font-size: 10px;">出栈</a> <a href="/tags/制作/" style="font-size: 10px;">制作</a> <a href="/tags/加密/" style="font-size: 12.5px;">加密</a> <a href="/tags/博客/" style="font-size: 17.5px;">博客</a> <a href="/tags/原理/" style="font-size: 12.5px;">原理</a> <a href="/tags/后台/" style="font-size: 10px;">后台</a> <a href="/tags/启动方式/" style="font-size: 10px;">启动方式</a> <a href="/tags/命令/" style="font-size: 10px;">命令</a> <a href="/tags/回退/" style="font-size: 10px;">回退</a> <a href="/tags/多个图标/" style="font-size: 10px;">多个图标</a> <a href="/tags/大小写/" style="font-size: 10px;">大小写</a> <a href="/tags/字体/" style="font-size: 10px;">字体</a> <a href="/tags/字符编码/" style="font-size: 10px;">字符编码</a> <a href="/tags/客户端/" style="font-size: 10px;">客户端</a> <a href="/tags/对称/" style="font-size: 10px;">对称</a> <a href="/tags/库/" style="font-size: 10px;">库</a> <a href="/tags/快捷方式/" style="font-size: 10px;">快捷方式</a> <a href="/tags/快捷键/" style="font-size: 10px;">快捷键</a> <a href="/tags/截屏/" style="font-size: 10px;">截屏</a> <a href="/tags/批量/" style="font-size: 10px;">批量</a> <a href="/tags/显示隐藏/" style="font-size: 10px;">显示隐藏</a> <a href="/tags/更改icon/" style="font-size: 10px;">更改icon</a> <a href="/tags/杂谈/" style="font-size: 10px;">杂谈</a> <a href="/tags/模版/" style="font-size: 10px;">模版</a> <a href="/tags/注释头/" style="font-size: 10px;">注释头</a> <a href="/tags/测试/" style="font-size: 10px;">测试</a> <a href="/tags/滚动条/" style="font-size: 10px;">滚动条</a> <a href="/tags/监听/" style="font-size: 10px;">监听</a> <a href="/tags/科学上网/" style="font-size: 10px;">科学上网</a> <a href="/tags/签名/" style="font-size: 10px;">签名</a> <a href="/tags/系统开发/" style="font-size: 10px;">系统开发</a> <a href="/tags/编码转换/" style="font-size: 10px;">编码转换</a> <a href="/tags/自定义/" style="font-size: 10px;">自定义</a> <a href="/tags/软键盘/" style="font-size: 10px;">软键盘</a> <a href="/tags/过滤/" style="font-size: 10px;">过滤</a> <a href="/tags/运营商定制/" style="font-size: 10px;">运营商定制</a> <a href="/tags/运行慢/" style="font-size: 10px;">运行慢</a> <a href="/tags/门字不正确/" style="font-size: 10px;">门字不正确</a> <a href="/tags/非对称/" style="font-size: 10px;">非对称</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/09/05/Android-in-app-billing-Clear-purchase-state-of-sku-android-test-purchased/">Android in-app billing: Clear purchase state of sku android.test.purchased</a>
          </li>
        
          <li>
            <a href="/2019/09/05/Hexo-YAMLException/">Hexo YAMLException</a>
          </li>
        
          <li>
            <a href="/2019/07/29/Upload-apk-to-Google-Play-Console/">Upload apk to Google Play Console</a>
          </li>
        
          <li>
            <a href="/2019/04/27/Raspberrypi-auto-update-ip-to-github/">Raspberrypi auto update ip to github</a>
          </li>
        
          <li>
            <a href="/2019/04/26/svn回退版本-取消修改/">svn回退版本/取消修改</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Xlee<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>